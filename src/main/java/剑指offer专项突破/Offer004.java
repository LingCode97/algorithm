package å‰‘æŒ‡offerä¸“é¡¹çªç ´;

/**
 * @author lingbohang on 2022/6/9
 *
 * ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œé™¤æŸä¸ªå…ƒç´ ä»…å‡ºç° ä¸€æ¬¡ å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ éƒ½æ°å‡ºç° ä¸‰æ¬¡ ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›é‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚
 *
 *
 *
 *  ç¤ºä¾‹ 1ï¼š
 *
 *
 * è¾“å…¥ï¼šnums = [2,2,3,2]
 * è¾“å‡ºï¼š3
 *
 *
 *  ç¤ºä¾‹ 2ï¼š
 *
 *
 * è¾“å…¥ï¼šnums = [0,1,0,1,0,1,100]
 * è¾“å‡ºï¼š100
 *
 *
 *
 *
 *  æç¤ºï¼š
 *
 *
 *  1 <= nums.length <= 3 * 10â´
 *  -2Â³Â¹ <= nums[i] <= 2Â³Â¹ - 1
 *  nums ä¸­ï¼Œé™¤æŸä¸ªå…ƒç´ ä»…å‡ºç° ä¸€æ¬¡ å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ éƒ½æ°å‡ºç° ä¸‰æ¬¡
 *
 *
 *
 *
 *  è¿›é˜¶ï¼šä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ
 *
 *
 *
 *  æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 137 é¢˜ç›¸åŒï¼šhttps://leetcode-cn.com/problems/single-number-ii/
 *  Related Topics ä½è¿ç®— æ•°ç»„ ğŸ‘ 77 ğŸ‘ 0
 */
public class Offer004 {
    /**
     * æ€è·¯ï¼š
     *     å‡è®¾æœ‰è¿™ä¹ˆ4ä¸ªæ•°ï¼Œå…¶ä¸­ä¸‰ä¸ªæ•°ä¸€æ ·ï¼Œæˆ‘ä»¬ä»¥2è¿›åˆ¶çš„æ–¹å¼æ¥çœ‹å¾…
     *     1101
     *     1101
     *     1101
     *     1001
     *     è®©æ¯ä½ä¸Šçš„æ•°å­—ç›¸åŠ ï¼Œæ³¨æ„æ˜¯åè¿›åˆ¶æ–¹å¼çš„ç›¸åŠ 
     *     æœ€ç»ˆ=4304ï¼Œç„¶åå†è®©4303æ¯ä¸€ä½æ•°å­—é™¤ä»¥3ï¼Œä½™æ•°å°±æ˜¯åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—çš„äºŒè¿›åˆ¶å½¢å¼ï¼Œä¹Ÿå°±æ˜¯1001
     *     ç”±äºJava intç±»å‹æ˜¯32ä½çš„ï¼Œä¸ºäº†å¾—åˆ°åè¿›åˆ¶æ•°çš„æ¯ä½äºŒè¿›åˆ¶æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä¾æ¬¡å¾€å³ç§»ï¼Œè·Ÿ1è¿›è¡Œ&è¿è¡Œ
     *     ä¹Ÿå°±æ˜¯ä»£ç ä¸­çš„bit[i] += num>>(31-i)&1;å¦‚æœi=0,num>>(31-i)&1å°±æ˜¯æœ€å·¦è¾¹é‚£ä¸€ä½äºŒè¿›åˆ¶æ•°ï¼Œç„¶åç›´æ¥åŠ åˆ°bieæ•°ç»„å¯¹åº”çš„ä½ç½®
     * */
    public int singleNumber(int[] nums) {
        int[] bit = new int[32];
        for(int num:nums){
            for(int i=0;i<32;i++){
                //01101>>(4-2)=00011
                //00011&00001=1
                bit[i] += num>>(31-i)&1;
            }
        }
        int result = 0;
        for(int i=0;i<32;i++){
            //00000+1=00001
            //00010+1=00011
            result = (result<<1)+bit[i]%3;
        }
        return  result;
    }
}
